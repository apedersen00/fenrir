----------------------------------------------------------------------------------------------------
--  Auto-generated VHDL Package: kernel_weights_pkg
--  Generated by generate_kernel_weights.py
--  
--  Contains kernel weights for SNN convolution module
--  Kernel size: 3x3, Channels: 4, Weight bits: 9
----------------------------------------------------------------------------------------------------

library ieee;
use ieee.std_logic_1164.all;
use ieee.numeric_std.all;

package kernel_weights_pkg is

    -- Kernel configuration constants
    constant KERNEL_SIZE_CFG     : integer := 3;
    constant CHANNELS_OUT_CFG    : integer := 4;
    constant BITS_PER_WEIGHT_CFG : integer := 9;
    
    -- Kernel weight type definition
    type kernel_weights_t is array (0 to KERNEL_SIZE_CFG**2 - 1, 0 to CHANNELS_OUT_CFG - 1) 
         of signed(BITS_PER_WEIGHT_CFG - 1 downto 0);
    
    -- Kernel weight constants
    constant KERNEL_WEIGHTS : kernel_weights_t := (
         0 => (  38,    0,   28,    0), -- Pos(0,0)
         1 => (   0,    7,   -4,  -44), -- Pos(0,1)
         2 => (   0,   57,   18,    0), -- Pos(0,2)
         3 => (  10,    0,    0,   52), -- Pos(1,0)
         4 => (  35,   39,  -41,    0), -- Pos(1,1)
         5 => ( -43,  -12,    0,   23), -- Pos(1,2)
         6 => (   0,  -35,    0,  -63), -- Pos(2,0)
         7 => (  -1,   -5,  -44,    0), -- Pos(2,1)
         8 => (  11,   -7,  -43,   60), -- Pos(2,2)
    );
    
    -- Helper function to get weight value
    function get_kernel_weight(
        kernel_pos : integer;
        channel : integer
    ) return signed;
    
end package kernel_weights_pkg;

package body kernel_weights_pkg is

    function get_kernel_weight(
        kernel_pos : integer;
        channel : integer
    ) return signed is
    begin
        if kernel_pos >= 0 and kernel_pos < KERNEL_SIZE_CFG**2 and
           channel >= 0 and channel < CHANNELS_OUT_CFG then
            return KERNEL_WEIGHTS(kernel_pos, channel);
        else
            return to_signed(0, BITS_PER_WEIGHT_CFG);
        end if;
    end function;

end package body kernel_weights_pkg;
